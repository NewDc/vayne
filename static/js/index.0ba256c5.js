webpackJsonp([1],{106:function(e,t,n){"use strict";function r(e,t){var n={isClient:!0,app:t,store:e.store,route:e.to,from:e.from},r=e.next;return n.params=n.route.params||{},n.query=n.route.query||{},n.redirect=function(e){var t=e.status,o=void 0===t?302:t,a=e.path,s=void 0===a?"":a,i=e.query,u=void 0===i?{}:i,c=e.external,f=void 0!==c&&c;n._redirected=!0,r({path:s,query:u,status:o,external:f})},n}function o(e,t){var n=void 0;return 2===e.length?n=new s.a(function(n,r){e(t,function(e,o){e?(t.error(e),r(e)):n(o)})}):(n=e(t))&&(n instanceof s.a||"function"==typeof n.then)||(n=s.a.resolve(n)),n}n.d(t,"c",function(){return l}),t.b=r,n.d(t,"a",function(){return d});var a=n(21),s=n.n(a),i=n(34),u=n.n(i),c=n(35),f=n.n(c),p=n(54),l=(n.n(p),function(){var e=f()(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),d=function(){var e=f()(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=9;break}if(!n._redirected){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,o(t[r],n);case 6:r++,e.next=1;break;case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},109:function(e,t){e.exports={buildVersion:1517821056301,build:{ssr:!1,publicPath:"/",compress:!0},middleware:{all:[],server:[],client:[]},router:{mode:"history",base:"/",pageTransition:{type:"fade",transitionClass:"fade"}},errorHandler:{errorPath:"/error"},serviceWorker:{swDest:"/Users/ducheng/work/lavas/vayne/dist/service-worker.js"}}},110:function(e,t,n){"use strict";function r(){var e=Object(c.a)(),t=Object(f.a)();return{App:s.a.extend(a()({router:e,store:t},p.a)),router:e,store:t}}t.a=r;var o=n(55),a=n.n(o),s=n(17),i=n(116),u=n.n(i),c=n(117),f=n(134),p=n(140);s.a.use(u.a),s.a.config.productionTip=!1},117:function(e,t,n){"use strict";function r(){var e=new a.a({mode:"history",base:"/",scrollBehavior:f,routes:c});return e.beforeEach(function(t,n,r){if(e.app.$store&&e.app.$store.state.pageTransition.enable){e.app.$store.commit("pageTransition/setType","fade"),e.app.$store.commit("pageTransition/setEffect","fade")}r()}),e}t.a=r;var o=n(17),a=n(118),s=n(119),i=n(122),u=n(129),c=[{path:"/appshell",component:s.a,meta:{},name:"appshell"},{path:"/",component:u.a,meta:{},name:"index"},{path:"/error",component:i.a,meta:{},name:"error",alias:"*"}];o.a.use(a.a);var f=function(e,t,n){if(n)return n;var r={};return e.hash&&(r.selector=e.hash),e.matched.some(function(e){return e.meta.scrollToTop})&&(r.x=0,r.y=0),r}},119:function(e,t,n){"use strict";var r=n(120),o=n(121),a=n(6),s=a(r.a,o.a,null,null,null);s.options.__file="pages/Appshell.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] Appshell.vue: functional components are not supported with templates, they should use render functions."),t.a=s.exports},120:function(e,t,n){"use strict";t.a={name:"appshell",metaInfo:{title:"Lavas",meta:[{name:"keywords",content:"lavas PWA"},{name:"description",content:"基于 Vue 的 PWA 解决方案，帮助开发者快速搭建 PWA 应用，解决接入 PWA 的各种问题"}],bodyAttrs:{"empty-appshell":void 0}}}},121:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div")},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};t.a=a},122:function(e,t,n){"use strict";var r=n(123),o=n(128),a=n(6),s=a(r.a,o.a,null,null,null);s.options.__file="pages/Error.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] Error.vue: functional components are not supported with templates, they should use render functions."),t.a=s.exports},123:function(e,t,n){"use strict";var r=n(124),o=n.n(r);t.a={name:"error",computed:{message:function(){return this.$route.params.error||"Oops! Something is not quite right o(╥﹏╥)o"}},created:function(){var e=this.$route.query;0!==o()(e).length&&this.$router.replace({name:"error",params:e})}}},128:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.message))])])},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};t.a=a},129:function(e,t,n){"use strict";function r(e){s||n(130)}var o=n(132),a=n(133),s=!1,i=n(6),u=r,c=i(o.a,a.a,u,"data-v-6d13cedf",null);c.options.__file="pages/Index.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] Index.vue: functional components are not supported with templates, they should use render functions."),t.a=c.exports},130:function(e,t){},132:function(e,t,n){"use strict";var r=n(34),o=n.n(r),a=n(35),s=n.n(a);t.a={name:"index",metaInfo:{title:"Home",titleTemplate:"%s - Lavas",meta:[{name:"keywords",content:"lavas PWA"},{name:"description",content:"基于 Vue 的 PWA 解决方案，帮助开发者快速搭建 PWA 应用，解决接入 PWA 的各种问题"}]},asyncData:function(){function e(e){return t.apply(this,arguments)}var t=s()(o.a.mark(function e(t){t.store,t.route;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}},e,this)}));return e}()}},133:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-index"},[n("h2",[e._v("糯米酒店")])])}];r._withStripped=!0;var a={render:r,staticRenderFns:o};t.a=a},134:function(e,t,n){"use strict";function r(e){var t=p(e),n=t.default||t;if(n.commit)throw new Error("[lavas] store/"+e.replace("./","")+" should export a method which returns a Vuex instance.");if(n.state&&"function"!=typeof n.state)throw new Error("[lavas] state should be a function in store/"+e.replace("./",""));return n}function o(e,t){if(1===t.length)return e.modules;var n=t.shift(),r=e.modules[n]=e.modules[n]||{};return r.namespaced=!0,r.modules=r.modules||{},o(r,t)}n.d(t,"a",function(){return M});var a=n(56),s=n.n(a),i=n(135),u=n.n(i),c=n(17),f=n(57);c.a.use(f.a);var p=n(138),l=p.keys(),d={},h=!0,v=!1,m=void 0;try{for(var w,y=u()(l);!(h=(w=y.next()).done);h=!0){var _=w.value;if("./index.js"===_){d=r(_);break}}}catch(e){v=!0,m=e}finally{try{!h&&y.return&&y.return()}finally{if(v)throw m}}if("function"!=typeof d){d.modules=d.modules||{};var b=!0,x=!1,g=void 0;try{for(var k,T=u()(l);!(b=(k=T.next()).done);b=!0){var $=k.value;if("./index.js"!==$){var A=$.replace(/^\.\//,"").replace(/\.js$/,""),E=A.split("/"),e=o(d,E);A=E.pop(),e[A]=r($),e[A].namespaced=!0}}}catch(e){x=!0,g=e}finally{try{!b&&T.return&&T.return()}finally{if(x)throw g}}}var M=d instanceof Function?d:function(){return new f.a.Store(s()({},d,{state:d.state instanceof Function?d.state():{}}))}},138:function(e,t,n){function r(e){return n(o(e))}function o(e){var t=a[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var a={"./pageTransition.js":139};r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=138},139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"state",function(){return r}),n.d(t,"mutations",function(){return o});var r=function(){return{enable:!0,type:"none",effect:"none"}},o={setType:function(e,t){e.type=t},setEffect:function(e,t){e.effect=t}}},140:function(e,t,n){"use strict";function r(e){s||n(141)}var o=n(142),a=n(147),s=!1,i=n(6),u=r,c=i(o.a,a.a,u,null,null);c.options.__file="core/App.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] App.vue: functional components are not supported with templates, they should use render functions."),t.a=c.exports},141:function(e,t){},142:function(e,t,n){"use strict";var r=n(55),o=n.n(r),a=n(57),s=n(143);t.a={name:"app",components:{UpdateToast:s.a},computed:o()({},Object(a.b)("pageTransition",{pageTransitionType:function(e){return e.type},pageTransitionEffect:function(e){return e.effect}}),{pageTransitionClass:function(){return"transition-"+this.pageTransitionType}})}},143:function(e,t,n){"use strict";function r(e){s||n(144)}var o=n(145),a=n(146),s=!1,i=n(6),u=r,c=i(o.a,a.a,u,"data-v-1f1a703d",null);c.options.__file="components/UpdateToast.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] UpdateToast.vue: functional components are not supported with templates, they should use render functions."),t.a=c.exports},144:function(e,t){},145:function(e,t,n){"use strict";t.a={name:"updateToast",props:{text:{type:String,default:"站点发生更新，请手动刷新"}},data:function(){return{show:!1}},mounted:function(){window.addEventListener("sw.update",this.handleUpdate)},beforeDestroy:function(){window.removeEventListener("sw.update",this.handleUpdate)},methods:{handleUpdate:function(e){this.show=!0},handleRefresh:function(){window.location.reload()}}}},146:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"popup"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"update-toast"},[n("span",[e._v(e._s(e.text))]),e._v(" "),n("span",{staticClass:"update-toast-close-btn",on:{click:e.handleRefresh}},[n("i",{staticClass:"iconfont icon-refresh"})])])])},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};t.a=a},147:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:e.pageTransitionEffect}},[e.$route.meta.keepAlive?n("keep-alive",[n("router-view",{key:e.$route.fullPath,staticClass:"app-view",class:[e.pageTransitionClass]})],1):e._e(),e._v(" "),e.$route.meta.keepAlive?e._e():n("router-view",{key:e.$route.fullPath,staticClass:"app-view",class:[e.pageTransitionClass]})],1),e._v(" "),n("update-toast")],1)},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};t.a=a},148:function(e,t,n){"use strict";function r(e){s||n(149)}var o=n(150),a=n(151),s=!1,i=n(6),u=r,c=i(o.a,a.a,u,"data-v-72a84005",null);c.options.__file="components/ProgressBar.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] ProgressBar.vue: functional components are not supported with templates, they should use render functions."),t.a=c.exports},149:function(e,t){},150:function(e,t,n){"use strict";t.a={data:function(){return{percent:0,show:!1,canSuccess:!0,duration:3e3,height:"2px",color:"#ffca2b",failedColor:"#ff0000"}},methods:{start:function(){var e=this;return this.show=!0,this.canSuccess=!0,this._timer&&(clearInterval(this._timer),this.percent=0),this._cut=1e4/Math.floor(this.duration),this._timer=setInterval(function(){e.increase(e._cut*Math.random()),e.percent>95&&e.finish()},100),this},set:function(e){return this.show=!0,this.canSuccess=!0,this.percent=Math.floor(e),this},get:function(){return Math.floor(this.percent)},increase:function(e){return this.percent=this.percent+Math.floor(e),this},decrease:function(e){return this.percent=this.percent-Math.floor(e),this},finish:function(){return this.percent=100,this.hide(),this},pause:function(){return clearInterval(this._timer),this},hide:function(){var e=this;return clearInterval(this._timer),this._timer=null,setTimeout(function(){e.show=!1,e.$nextTick(function(){setTimeout(function(){e.percent=0},200)})},500),this},fail:function(){return this.canSuccess=!1,this}}}},151:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"progress",style:{width:e.percent+"%",height:e.height,"background-color":e.canSuccess?e.color:e.failedColor,opacity:e.show?1:0}})},o=[];r._withStripped=!0;var a={render:r,staticRenderFns:o};t.a=a},171:function(e,t){},68:function(e,t,n){e.exports=n(69)},69:function(e,t,n){"use strict";function r(){var e=this;C.beforeResolve(function(t,n,r){var o=C.getMatchedComponents(t),s=C.getMatchedComponents(n),i=!1,u=o.filter(function(e,t){return i||(i=s[t]!==e)});if(!u.length)return r();E.start(),a.a.all(u.filter(function(e){return e.asyncData&&(!e.asyncDataFetched||!t.meta.keepAlive)}).map(function(){var n=p()(c.a.mark(function n(r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.asyncData({store:O,route:t});case 2:r.asyncDataFetched=!0;case 3:case"end":return e.stop()}},n,e)}));return function(e){return n.apply(this,arguments)}}())).then(function(){E.finish(),r()}).catch(r)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(21),a=n.n(o),s=n(95),i=n.n(s),u=n(34),c=n.n(u),f=n(35),p=n.n(f),l=n(17),d=n(105),h=n.n(d),v=n(106),m=n(109),w=n.n(m),y=n(110),_=n(148),b=n(152),x=n.n(b),g=n(167),k=n.n(g),T=n(54),$=(n.n(T),n(169)),A=(n.n($),n(171));n.n(A);x.a.shim(),k.a.shim();var E=l.a.prototype.$loading=new l.a(_.a).$mount(),M=Object(y.a)(),j=M.App,C=M.router,O=M.store,P=w.a.build.ssr,S=w.a.middleware,I=void 0===S?{}:S,R=void 0;window.__INITIAL_STATE__&&O.replaceState(window.__INITIAL_STATE__),document.body.appendChild(E.$el),h.a.attach(document.body),l.a.mixin({beforeRouteUpdate:function(){function e(e,n,r){return t.apply(this,arguments)}var t=p()(c.a.mark(function e(t,n,r){var o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=this.$options.asyncData,o?(E.start(),o.call(this,{store:this.$store,route:t}).then(function(){E.finish(),r()}).catch(r)):r();case 2:case"end":return e.stop()}},e,this)}));return e}()}),function(){var e=this;C.beforeEach(function(){var t=p()(c.a.mark(function t(n,r,o){var a,s,u,f,p,l,d,h,m,w;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.fullPath.split("#")[0],s=n.fullPath.split("#")[0],a!==s){e.next=4;break}return e.abrupt("return",o());case 4:return u=C.getMatchedComponents(n),f=[].concat(i()(I.all||[]),i()(I.client||[]),i()(u.filter(function(e){return!!e.middleware}).reduce(function(e,t){var n=t.middleware;return e.concat(n)},[]))),e.next=8,Object(v.c)(f);case 8:if(p=e.sent,!(l=f.find(function(e){return"function"!=typeof p[e]}))){e.next=12;break}throw new Error("Unknown middleware "+l);case 12:return d=!1,h=function(e){if(E.finish&&E.finish(),!d){if(d=!0,e.external)return e.query=Object(T.stringify)(e.query),e.path=e.path+(e.query?"?"+e.query:""),window.location.replace(e.path),o();o(e)}},m=Object(v.b)({to:n,from:r,store:O,next:h},R),w=f.map(function(e){return p[e]}),e.next=18,Object(v.a)(w,m);case 18:d||o();case 19:case"end":return e.stop()}},t,e)}));return function(e,n,r){return t.apply(this,arguments)}}())}(),!document.body.hasAttribute("empty-appshell")&&P?(R=new j,C.onReady(function(){r(),R.$mount("#app")})):(r(),R=(new j).$mount("#app"))}},[68]);
//# sourceMappingURL=index.0ba256c5.js.map